---
import Globe from '~icons/lucide/globe';
import GitHub from '~icons/simple-icons/github';
import Discord from '~icons/simple-icons/discord';
import Npm from '~icons/simple-icons/npm';

import { slugify } from '@/utils';
import { type Project } from '@/data/projects';

type Props = {
	projects: Project[];
};

const { projects } = Astro.props;
---

<div class="grid grid-cols-1 md:grid-cols-2 gap-[1rem_1rem] m-0 p-0">
	{
		projects.map((project) => (
			<a class="flex flex-col p-6 gap-2 rounded-md hover:bg-[#F7F8FA] dark:hover:bg-[#01040A] transition-colors not-fancy no-external-link" href="{{ project.link }}" data-umami-event="project-link-{{ project.name | slugify }}">
				<div>
					<h2 class="font-bold text-lg m-0">{project.name}</h2>
					<p class="mx-0 my-1">{project.description}</p>
				</div>
				<div class="flex flex-row justify-between items-center">
					<div class="flex flex-row gap-2">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							style={{ fill: project.color }}
							viewBox="0 0 16 16"
							width="16"
							height="16"
						>
							<circle cx="8" cy="9" r="5" />
						</svg>
						{project.language}
					</div>
					<div class="flex flex-row gap-4">
						<div>
							<GitHub class="block w-5 h-5 text-fg align-baseline" />
						</div>
						{project.live && (
							<div>
								{project.live.startsWith('https://discord.gg') ? (
									<Discord class="block w-5 h-5 text-fg align-baseline" />
								) : project.live.startsWith('https://npmjs.com') ||
								  project.live.startsWith('https://www.npmjs.com') ? (
									<Npm class="block w-5 h-5 text-fg align-baseline" />
								) : (
									<Globe class="block w-5 h-5 text-fg align-baseline" />
								)}
							</div>
						)}
					</div>
				</div>
			</a>
		))
	}
</div>

@import 'variables';
@import 'tailwind';

@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fade-out {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

html {
	scroll-behavior: smooth;
	overflow-y: scroll;
	text-size-adjust: none;
	--accent: var(--accent-red);
}

@media (min-width: 1024px) {
	body {
		display: grid;
		grid-template-columns: auto 1fr;
		grid-template-rows: auto auto;
	}
}

header {
	grid-row: 1 / 1;
	grid-column: 1 / 1;
}

footer {
	grid-row: 2 / 2;
	grid-column: 1 / 1;
}

main {
	grid-row: 1 / span 3;
	grid-column: 2 / 2;
}

:root[theme='light'] {
	body {
		--bg: var(--light);
		--fg: var(--dark-gray);
		--kbd-bg-color: var(--light);
		--kbd-border-color: var(--light-gray);
	}
}

:root[theme='dark'] {
	body {
		--bg: var(--dark);
		--fg: var(--light);
		--kbd-bg-color: var(--dark);
		--kbd-border-color: var(--dark-gray);
	}
}

a {
	position: relative;
	text-decoration: none;
	color: var(--fg);

	&:not(.not-fancy) {
		border-bottom: 2px dotted var(--fg);

		&:hover {
			color: var(--accent);
			border-bottom: 2px solid var(--accent);

			svg.icon-duck-flying {
				fill: var(--accent);
			}
		}
	}
}

main,
article {
	a[rel*='noopener']:not([href*='https://uncenter.org'], .no-external-link)::after
	{
		mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='external-link-icon' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z'/%3E%3Cpath fill-rule='evenodd' d='M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z'/%3E%3C/svg%3E");
		background-color: var(--fg);
		mask-position: center;
		mask-repeat: no-repeat;
		mask-size: contain;
		content: '';
		display: inline-block;
		height: 11px;
		width: 11px;
		margin-left: 4px;
		margin-right: 2px;
	}

	h2,
	h3,
	h4,
	h5,
	h6 {
		line-height: 1.4;
	}

	h2 {
		font-weight: 600;
		padding-bottom: 3px;
	}

	h3 {
		font-style: italic;
		padding-bottom: 1px;
	}

	h2 a.anchor::before,
	h3 a.anchor::before {
		position: absolute;
		left: -40px;
		width: 48px;
		content: 'ยง';
		color: var(--accent);
		transition: color 0.2s ease;
		text-align: center;
		opacity: 0;
	}

	h2 a.anchor:hover::before,
	h3 a.anchor:hover::before {
		opacity: 1;
	}
}

.note {
	padding: 0 1.5rem 0px 1.5rem;
	position: relative;
	margin: 1.5rem 0;
	border: $block-border-width solid var(--note-color);
	border-radius: $border-radius;
	.note__title {
		padding-top: 1.5rem;
		font-weight: bold;
		font-size: 1.4em;
	}
	&::after {
		position: absolute;
		right: 1rem;
		top: -0.5rem;
		font-weight: 600;
		font-size: 0.9rem;
		padding: 0 0.25rem;
		text-transform: uppercase;
		line-height: 1;
		background: #fff;
		color: var(--note-color);
		background-color: var(--bg);
	}
	&.note--info {
		--note-color: var(--accent-blue);
		&::after {
			content: 'Info';
		}
	}
	&.note--warning {
		--note-color: var(--accent-yellow);
		&::after {
			content: 'Warning';
		}
	}
	&.note--tip {
		--note-color: var(--accent-green);
		&::after {
			content: 'Tip';
		}
	}
	&.note--note {
		--note-color: var(--dark-gray);
	}
}

.checklist-item label {
	margin-left: 0.25rem;
}

.toc {
	padding: 0.5rem 0;
	+ p {
		margin-top: 0;
	}
}

h1.hidden#title + p {
	margin-top: 0;
}

@media (min-width: 1024px) {
	h1.hidden#title + p {
		margin-top: unset;
	}
}

@import 'syntax';
@import 'icons';

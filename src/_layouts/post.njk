---
layout: index.njk
---

<main class="mx-auto">
    <div class="[border-bottom:2px_solid_currentColor] pb-2">
        <div class="flex flex-wrap justify-between pb-1 gap-x-8 gap-y-2">
            <a href="{{ post.return.link }}" class="flex items-center gap-x-2">
                {{ "src/_includes/duck-flying.svg" | readFile | setAttr('class', 'icon-duck-flying w-4 h-4 inline-block -scale-x-100') | safe }}
                <span>{{ post.return.text }}</span>
            </a>
            {% if post.tags %}
                {% set tagsDate = date %}
                {% set tagsTags = tags %}
                {% include "tags.njk" %}
            {% endif %}
        </div>
    </div>
    {% if content !== "" %}
        <article class="wrap-anywhere max-w-[90ch] px-2">
            <h1 class="text-3xl font-bold mb-0"
                style="view-transition-name: post-{{ title | slugify }}">{{ title }}</h1>
            {% if series %}
                {% set seriesData = collections.series | seriesLocate(series) %}
                {% set seriesPosts = seriesData.posts %}
                {% if seriesPosts.length > 0 %}
                    {% set part = seriesPosts | seriesGetPart(page.url) %}
                    <p>
                        This is the {{ part | ordinal }} entry in the <a href="/series/{{ series.title | slugify }}/">{{ series.title }}</a> series.
                    </p>
                {% endif %}
            {% endif %}
            {% if content | toc %}{{ content | toc | safe }}
            {% endif %}
            {{ content | safe }}
        </article>
    {% endif %}
    {% if post.comments %}
        <div id="comments" class="mt-16"></div>
    {% endif %}
    {% set previous = collections.posts | getPreviousCollectionItem %}
    {% set next = collections.posts | getNextCollectionItem %}
    <div class="flex flex-row justify-between font-bold mt-8">
        {% if previous %}
            <a class="text-center"
               href="{{ previous.url }}"
               aria-label="Read previous post">
                {%- icon 'arrow-left', class="mr-2" -%}
                <span>{{ previous.data.title }}</span>
            </a>
        {% endif %}
        {% if not previous and next %}
            <div></div>
        {% endif %}
        {% if next %}
            <a class="text-center" href="{{ next.url }}" aria-label="Read next post">
                <span>{{ next.data.title }}</span>
                {%- icon 'arrow-right', class="ml-2" -%}
            </a>
        {% endif %}
    </div>
</main>